// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using RDPMS.Core.Persistence;

#nullable disable

namespace RDPMS.Core.Persistence.Migrations
{
    [DbContext(typeof(RDPMSPersistenceContext))]
    partial class RDPMSPersistenceContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder.HasAnnotation("ProductVersion", "8.0.11");

            modelBuilder.Entity("DataSetUsedForJobs", b =>
                {
                    b.Property<Guid>("SourceDatasetsId")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("SourceForJobsId")
                        .HasColumnType("TEXT");

                    b.HasKey("SourceDatasetsId", "SourceForJobsId");

                    b.HasIndex("SourceForJobsId");

                    b.ToTable("DataSetUsedForJobs");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.ContentType", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("Abbreviation")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("MimeType")
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.ToTable("Types");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.DataContainer", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<Guid>("DefaultDataStoreId")
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("DefaultDataStoreId");

                    b.ToTable("DataContainers");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.DataFile", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("BeginStamp")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreationStamp")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("DataSetId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("DataStoreId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("DeletedStamp")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("FileTypeId")
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsTimeSeries")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("DataSetId");

                    b.HasIndex("DataStoreId");

                    b.HasIndex("FileTypeId");

                    b.ToTable("DataFiles");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.DataSet", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("AncestorIds")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("CreateJobId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreateStamp")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("DataContainerId")
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("CreateJobId");

                    b.HasIndex("DataContainerId");

                    b.ToTable("DataSets");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.DataSetUsedForJobs", b =>
                {
                    b.Property<Guid>("JobId")
                        .HasColumnType("TEXT");

                    b.Property<Guid>("SourceDatasetId")
                        .HasColumnType("TEXT");

                    b.HasKey("JobId", "SourceDatasetId");

                    b.ToTable("DataSetsUsedForJobs");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.DataStore", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.ToTable("DataStores");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.Job", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("CreatedStamp")
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("LastUpdateStamp")
                        .HasColumnType("TEXT");

                    b.Property<ulong>("LocalId")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<Guid>("OutputContainerId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("OutputDataStoreId")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("PipelineInstanceId")
                        .HasColumnType("TEXT");

                    b.Property<DateTime?>("StartedStamp")
                        .HasColumnType("TEXT");

                    b.Property<int>("State")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("TerminatedStamp")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasAlternateKey("LocalId");

                    b.HasIndex("OutputContainerId");

                    b.HasIndex("OutputDataStoreId");

                    b.HasIndex("PipelineInstanceId");

                    b.ToTable("Jobs");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.LogSection", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("JobId")
                        .HasColumnType("TEXT");

                    b.Property<string>("LogContent")
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("StoredFileId")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("JobId");

                    b.HasIndex("StoredFileId");

                    b.ToTable("LogSection");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.MetadataJsonField", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("DataSetId")
                        .HasColumnType("TEXT");

                    b.Property<string>("Key")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("Value")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("DataSetId");

                    b.ToTable("MetadataJsonField");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.PipelineInstance", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<ulong>("LocalId")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasAlternateKey("LocalId");

                    b.ToTable("PipelineInstances");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.Tag", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT");

                    b.Property<Guid?>("DataSetId")
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("DataSetId");

                    b.ToTable("Tags");
                });

            modelBuilder.Entity("DataSetUsedForJobs", b =>
                {
                    b.HasOne("RDPMS.Core.Persistence.Model.DataSet", null)
                        .WithMany()
                        .HasForeignKey("SourceDatasetsId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RDPMS.Core.Persistence.Model.Job", null)
                        .WithMany()
                        .HasForeignKey("SourceForJobsId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.DataContainer", b =>
                {
                    b.HasOne("RDPMS.Core.Persistence.Model.DataStore", "DefaultDataStore")
                        .WithMany()
                        .HasForeignKey("DefaultDataStoreId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("DefaultDataStore");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.DataFile", b =>
                {
                    b.HasOne("RDPMS.Core.Persistence.Model.DataSet", null)
                        .WithMany("Files")
                        .HasForeignKey("DataSetId");

                    b.HasOne("RDPMS.Core.Persistence.Model.DataStore", null)
                        .WithMany("DataFiles")
                        .HasForeignKey("DataStoreId");

                    b.HasOne("RDPMS.Core.Persistence.Model.ContentType", "FileType")
                        .WithMany()
                        .HasForeignKey("FileTypeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("FileType");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.DataSet", b =>
                {
                    b.HasOne("RDPMS.Core.Persistence.Model.Job", "CreateJob")
                        .WithMany("OutputDatasets")
                        .HasForeignKey("CreateJobId");

                    b.HasOne("RDPMS.Core.Persistence.Model.DataContainer", null)
                        .WithMany("AssociatedDataSets")
                        .HasForeignKey("DataContainerId");

                    b.Navigation("CreateJob");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.Job", b =>
                {
                    b.HasOne("RDPMS.Core.Persistence.Model.DataContainer", "OutputContainer")
                        .WithMany()
                        .HasForeignKey("OutputContainerId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RDPMS.Core.Persistence.Model.DataStore", "OutputDataStore")
                        .WithMany()
                        .HasForeignKey("OutputDataStoreId");

                    b.HasOne("RDPMS.Core.Persistence.Model.PipelineInstance", null)
                        .WithMany("Jobs")
                        .HasForeignKey("PipelineInstanceId");

                    b.Navigation("OutputContainer");

                    b.Navigation("OutputDataStore");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.LogSection", b =>
                {
                    b.HasOne("RDPMS.Core.Persistence.Model.Job", null)
                        .WithMany("Logs")
                        .HasForeignKey("JobId");

                    b.HasOne("RDPMS.Core.Persistence.Model.DataFile", "StoredFile")
                        .WithMany()
                        .HasForeignKey("StoredFileId");

                    b.Navigation("StoredFile");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.MetadataJsonField", b =>
                {
                    b.HasOne("RDPMS.Core.Persistence.Model.DataSet", null)
                        .WithMany("MetadataJsonFields")
                        .HasForeignKey("DataSetId");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.Tag", b =>
                {
                    b.HasOne("RDPMS.Core.Persistence.Model.DataSet", null)
                        .WithMany("AssignedTags")
                        .HasForeignKey("DataSetId");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.DataContainer", b =>
                {
                    b.Navigation("AssociatedDataSets");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.DataSet", b =>
                {
                    b.Navigation("AssignedTags");

                    b.Navigation("Files");

                    b.Navigation("MetadataJsonFields");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.DataStore", b =>
                {
                    b.Navigation("DataFiles");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.Job", b =>
                {
                    b.Navigation("Logs");

                    b.Navigation("OutputDatasets");
                });

            modelBuilder.Entity("RDPMS.Core.Persistence.Model.PipelineInstance", b =>
                {
                    b.Navigation("Jobs");
                });
#pragma warning restore 612, 618
        }
    }
}
